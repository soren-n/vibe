name: "Architecture Decision Record (ADR) creation and maintenance"
description: "Create new ADRs for architectural decisions and maintain existing decision records"
triggers:
  - "create adr"
  - "architecture decision"
  - "document decision"
  - "adr maintenance"
  - "decision record"
  - "architectural choice"
  - "design decision"
project_types:
  - "python"
  - "typescript"
  - "vue"
  - "javascript"
  - "rust"
  - "go"
  - "general"
dependencies:
  - "docs directory structure"
  - "ADR template"
conditions:
  - "When significant architectural decisions are made"
  - "When design patterns are established"
  - "When technology choices need documentation"
  - "When reviewing past decisions"
steps:
  - "Check ADR Structure: Verify `docs/adr/` directory exists and contains `adr-template.md` - create if missing with `mkdir -p docs/adr`"
  - "Review Existing ADRs: List current ADRs in docs/adr directory to understand decision history and determine next number"
  - "Create New ADR: Copy template to `docs/adr/adr-XXX-decision-title.md` using sequential numbering"
  - "Document Context: Clearly explain the problem, constraints, and circumstances that motivate this architectural decision"
  - "Record Decision: State exactly what change will be made and why this approach was chosen over alternatives"
  - "Explain Rationale: Document alternatives considered, trade-offs evaluated, and reasoning behind the final choice"
  - "Detail Consequences: Honestly assess what becomes easier/harder, risks involved, and long-term implications"
  - "Implementation Plan: Provide actionable next steps and references for how the decision will be executed"
  - "Set Status: Mark as Proposed (under consideration), Accepted (implemented), Deprecated (outdated), or Superseded (replaced)"
  - "Link and Reference: Connect ADR to related code commits, issues, documentation, and cross-reference related ADRs"
  - "Quality Review: Ensure title is clear, language is jargon-free, stakeholders are identified, and all sections are complete"
  - "Commit with Code: Include ADR in the same commit as related code changes to maintain decision-implementation traceability"

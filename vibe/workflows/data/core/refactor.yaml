name: refactor
description: "Code refactoring and quality improvements"
triggers:
  - "refactor"
  - "improve code"
  - "code quality"
  - "optimize"
  - "clean up"
steps:
  - "Find large files: `find . -name '*.py' -o -name '*.js' -o -name '*.ts' | xargs wc -l | sort -nr | head -10`"
  - "Detect code duplication: `uv run ruff check . --select=F401,F811` (unused/duplicate imports)"
  - "Analyze function complexity: Use your IDE's complexity metrics or static analysis tools"
  - "Run tests before refactoring: `uv run pytest` or `npm test` to establish baseline"
  - "Make incremental changes: Refactor one function/class at a time"
  - "Run tests after each change: Verify functionality remains intact"
  - "Update documentation: Revise comments and docstrings for modified code"
  - "Commit frequently: `git add . && git commit -m 'refactor: [specific change]'`"
